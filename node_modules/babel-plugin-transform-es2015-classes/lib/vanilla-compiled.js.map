{"version":3,"sources":["vanilla.js"],"names":[],"mappings":"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","file":"vanilla-compiled.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _babelTraverse = require(\"babel-traverse\");\n\nvar _babelHelperReplaceSupers = require(\"babel-helper-replace-supers\");\n\nvar _babelHelperReplaceSupers2 = _interopRequireDefault(_babelHelperReplaceSupers);\n\nvar _babelHelperOptimiseCallExpression = require(\"babel-helper-optimise-call-expression\");\n\nvar _babelHelperOptimiseCallExpression2 = _interopRequireDefault(_babelHelperOptimiseCallExpression);\n\nvar _babelHelperDefineMap = require(\"babel-helper-define-map\");\n\nvar defineMap = _interopRequireWildcard(_babelHelperDefineMap);\n\nvar _babelTemplate = require(\"babel-template\");\n\nvar _babelTemplate2 = _interopRequireDefault(_babelTemplate);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar buildDerivedConstructor = (0, _babelTemplate2.default)(\"\\n  (function () {\\n    super(...arguments);\\n  })\\n\");\n\nvar noMethodVisitor = {\n  \"FunctionExpression|FunctionDeclaration\": function FunctionExpressionFunctionDeclaration(path) {\n    if (!path.is(\"shadow\")) {\n      path.skip();\n    }\n  },\n  Method: function Method(path) {\n    path.skip();\n  }\n};\n\nvar verifyConstructorVisitor = _babelTraverse.visitors.merge([noMethodVisitor, {\n  Super: function Super(path) {\n    if (this.isDerived && !this.hasBareSuper && !path.parentPath.isCallExpression({ callee: path.node })) {\n      throw path.buildCodeFrameError(\"'super.*' is not allowed before super()\");\n    }\n  },\n\n\n  CallExpression: {\n    exit: function exit(path) {\n      if (path.get(\"callee\").isSuper()) {\n        this.hasBareSuper = true;\n\n        if (!this.isDerived) {\n          throw path.buildCodeFrameError(\"super() is only allowed in a derived constructor\");\n        }\n      }\n    }\n  },\n\n  ThisExpression: function ThisExpression(path) {\n    if (this.isDerived && !this.hasBareSuper) {\n      if (!path.inShadow(\"this\")) {\n        throw path.buildCodeFrameError(\"'this' is not allowed before super()\");\n      }\n    }\n  }\n}]);\n\nvar findThisesVisitor = _babelTraverse.visitors.merge([noMethodVisitor, {\n  ThisExpression: function ThisExpression(path) {\n    this.superThises.push(path);\n  }\n}]);\n\nvar ClassTransformer = function () {\n  function ClassTransformer(path, file) {\n    (0, _classCallCheck3.default)(this, ClassTransformer);\n\n    this.parent = path.parent;\n    this.scope = path.scope;\n    this.node = path.node;\n    this.path = path;\n    this.file = file;\n\n    this.clearDescriptors();\n\n    this.instancePropBody = [];\n    this.instancePropRefs = {};\n    this.staticPropBody = [];\n    this.body = [];\n\n    this.bareSuperAfter = [];\n    this.bareSupers = [];\n\n    this.pushedConstructor = false;\n    this.pushedInherits = false;\n    this.isLoose = false;\n\n    this.superThises = [];\n\n    this.classId = this.node.id;\n\n    this.classRef = this.node.id ? t.identifier(this.node.id.name) : this.scope.generateUidIdentifier(\"class\");\n\n    this.superName = this.node.superClass || t.identifier(\"Function\");\n    this.isDerived = !!this.node.superClass;\n  }\n\n  ClassTransformer.prototype.run = function run() {\n    var _this = this;\n\n    var superName = this.superName;\n    var file = this.file;\n    var body = this.body;\n\n    var constructorBody = this.constructorBody = t.blockStatement([]);\n    this.constructor = this.buildConstructor();\n\n    var closureParams = [];\n    var closureArgs = [];\n\n    if (this.isDerived) {\n      closureArgs.push(superName);\n\n      superName = this.scope.generateUidIdentifierBasedOnNode(superName);\n      closureParams.push(superName);\n\n      this.superName = superName;\n    }\n\n    this.buildBody();\n\n    constructorBody.body.unshift(t.expressionStatement(t.callExpression(file.addHelper(\"classCallCheck\"), [t.thisExpression(), this.classRef])));\n\n    body = body.concat(this.staticPropBody.map(function (fn) {\n      return fn(_this.classRef);\n    }));\n\n    if (this.classId) {\n      if (body.length === 1) return t.toExpression(body[0]);\n    }\n\n    body.push(t.returnStatement(this.classRef));\n\n    var container = t.functionExpression(null, closureParams, t.blockStatement(body));\n    container.shadow = true;\n    return t.callExpression(container, closureArgs);\n  };\n\n  ClassTransformer.prototype.buildConstructor = function buildConstructor() {\n    var func = t.functionDeclaration(this.classRef, [], this.constructorBody);\n    t.inherits(func, this.node);\n    return func;\n  };\n\n  ClassTransformer.prototype.pushToMap = function pushToMap(node, enumerable) {\n    var kind = arguments.length <= 2 || arguments[2] === undefined ? \"value\" : arguments[2];\n    var scope = arguments[3];\n\n    var mutatorMap = void 0;\n    if (node.static) {\n      this.hasStaticDescriptors = true;\n      mutatorMap = this.staticMutatorMap;\n    } else {\n      this.hasInstanceDescriptors = true;\n      mutatorMap = this.instanceMutatorMap;\n    }\n\n    var map = defineMap.push(mutatorMap, node, kind, this.file, scope);\n\n    if (enumerable) {\n      map.enumerable = t.booleanLiteral(true);\n    }\n\n    return map;\n  };\n\n  ClassTransformer.prototype.constructorMeMaybe = function constructorMeMaybe() {\n    var hasConstructor = false;\n    var paths = this.path.get(\"body.body\");\n    for (var _iterator = paths, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : (0, _getIterator3.default)(_iterator);;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var path = _ref;\n\n      hasConstructor = path.equals(\"kind\", \"constructor\");\n      if (hasConstructor) break;\n    }\n    if (hasConstructor) return;\n\n    var params = void 0,\n        body = void 0;\n\n    if (this.isDerived) {\n      var _constructor = buildDerivedConstructor().expression;\n      params = _constructor.params;\n      body = _constructor.body;\n    } else {\n      params = [];\n      body = t.blockStatement([]);\n    }\n\n    this.path.get(\"body\").unshiftContainer(\"body\", t.classMethod(\"constructor\", t.identifier(\"constructor\"), params, body));\n  };\n\n  ClassTransformer.prototype.buildBody = function buildBody() {\n    this.constructorMeMaybe();\n    this.pushBody();\n    this.verifyConstructor();\n\n    if (this.userConstructor) {\n      var constructorBody = this.constructorBody;\n      constructorBody.body = constructorBody.body.concat(this.userConstructor.body.body);\n      t.inherits(this.constructor, this.userConstructor);\n      t.inherits(constructorBody, this.userConstructor.body);\n    }\n\n    this.pushDescriptors();\n  };\n\n  ClassTransformer.prototype.pushBody = function pushBody() {\n    var classBodyPaths = this.path.get(\"body.body\");\n\n    for (var _iterator2 = classBodyPaths, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : (0, _getIterator3.default)(_iterator2);;) {\n      var _ref2;\n\n      if (_isArray2) {\n        if (_i2 >= _iterator2.length) break;\n        _ref2 = _iterator2[_i2++];\n      } else {\n        _i2 = _iterator2.next();\n        if (_i2.done) break;\n        _ref2 = _i2.value;\n      }\n\n      var path = _ref2;\n\n      var node = path.node;\n\n      if (path.isClassProperty()) {\n        throw path.buildCodeFrameError(\"Missing class properties transform.\");\n      }\n\n      if (node.decorators) {\n        throw path.buildCodeFrameError(\"Method has decorators, put the decorator plugin before the classes one.\");\n      }\n\n      if (t.isClassMethod(node)) {\n        var isConstructor = node.kind === \"constructor\";\n\n        if (isConstructor) {\n          path.traverse(verifyConstructorVisitor, this);\n\n          if (!this.hasBareSuper && this.isDerived) {\n            throw path.buildCodeFrameError(\"missing super() call in constructor\");\n          }\n        }\n\n        var replaceSupers = new _babelHelperReplaceSupers2.default({\n          forceSuperMemoisation: isConstructor,\n          methodPath: path,\n          methodNode: node,\n          objectRef: this.classRef,\n          superRef: this.superName,\n          isStatic: node.static,\n          isLoose: this.isLoose,\n          scope: this.scope,\n          file: this.file\n        }, true);\n\n        replaceSupers.replace();\n\n        if (isConstructor) {\n          this.pushConstructor(replaceSupers, node, path);\n        } else {\n          this.pushMethod(node, path);\n        }\n      }\n    }\n  };\n\n  ClassTransformer.prototype.clearDescriptors = function clearDescriptors() {\n    this.hasInstanceDescriptors = false;\n    this.hasStaticDescriptors = false;\n\n    this.instanceMutatorMap = {};\n    this.staticMutatorMap = {};\n  };\n\n  ClassTransformer.prototype.pushDescriptors = function pushDescriptors() {\n    this.pushInherits();\n\n    var body = this.body;\n\n    var instanceProps = void 0;\n    var staticProps = void 0;\n\n    if (this.hasInstanceDescriptors) {\n      instanceProps = defineMap.toClassObject(this.instanceMutatorMap);\n    }\n\n    if (this.hasStaticDescriptors) {\n      staticProps = defineMap.toClassObject(this.staticMutatorMap);\n    }\n\n    if (instanceProps || staticProps) {\n      if (instanceProps) instanceProps = defineMap.toComputedObjectFromClass(instanceProps);\n      if (staticProps) staticProps = defineMap.toComputedObjectFromClass(staticProps);\n\n      var nullNode = t.nullLiteral();\n\n      var args = [this.classRef, nullNode, nullNode, nullNode, nullNode];\n\n      if (instanceProps) args[1] = instanceProps;\n      if (staticProps) args[2] = staticProps;\n\n      if (this.instanceInitializersId) {\n        args[3] = this.instanceInitializersId;\n        body.unshift(this.buildObjectAssignment(this.instanceInitializersId));\n      }\n\n      if (this.staticInitializersId) {\n        args[4] = this.staticInitializersId;\n        body.unshift(this.buildObjectAssignment(this.staticInitializersId));\n      }\n\n      var lastNonNullIndex = 0;\n      for (var i = 0; i < args.length; i++) {\n        if (args[i] !== nullNode) lastNonNullIndex = i;\n      }\n      args = args.slice(0, lastNonNullIndex + 1);\n\n      body.push(t.expressionStatement(t.callExpression(this.file.addHelper(\"createClass\"), args)));\n    }\n\n    this.clearDescriptors();\n  };\n\n  ClassTransformer.prototype.buildObjectAssignment = function buildObjectAssignment(id) {\n    return t.variableDeclaration(\"var\", [t.variableDeclarator(id, t.objectExpression([]))]);\n  };\n\n  ClassTransformer.prototype.wrapSuperCall = function wrapSuperCall(bareSuper, superRef, thisRef, body) {\n    var bareSuperNode = bareSuper.node;\n\n    if (this.isLoose) {\n      bareSuperNode.arguments.unshift(t.thisExpression());\n      if (bareSuperNode.arguments.length === 2 && t.isSpreadElement(bareSuperNode.arguments[1]) && t.isIdentifier(bareSuperNode.arguments[1].argument, { name: \"arguments\" })) {\n        bareSuperNode.arguments[1] = bareSuperNode.arguments[1].argument;\n        bareSuperNode.callee = t.memberExpression(superRef, t.identifier(\"apply\"));\n      } else {\n        bareSuperNode.callee = t.memberExpression(superRef, t.identifier(\"call\"));\n      }\n    } else {\n      bareSuperNode = (0, _babelHelperOptimiseCallExpression2.default)(t.logicalExpression(\"||\", t.memberExpression(this.classRef, t.identifier(\"__proto__\")), t.callExpression(t.memberExpression(t.identifier(\"Object\"), t.identifier(\"getPrototypeOf\")), [this.classRef])), t.thisExpression(), bareSuperNode.arguments);\n    }\n\n    var call = t.callExpression(this.file.addHelper(\"possibleConstructorReturn\"), [t.thisExpression(), bareSuperNode]);\n\n    var bareSuperAfter = this.bareSuperAfter.map(function (fn) {\n      return fn(thisRef);\n    });\n\n    if (bareSuper.parentPath.isExpressionStatement() && bareSuper.parentPath.container === body.node.body && body.node.body.length - 1 === bareSuper.parentPath.key) {\n\n      if (this.superThises.length || bareSuperAfter.length) {\n        bareSuper.scope.push({ id: thisRef });\n        call = t.assignmentExpression(\"=\", thisRef, call);\n      }\n\n      if (bareSuperAfter.length) {\n        call = t.toSequenceExpression([call].concat(bareSuperAfter, [thisRef]));\n      }\n\n      bareSuper.parentPath.replaceWith(t.returnStatement(call));\n    } else {\n      bareSuper.replaceWithMultiple([t.variableDeclaration(\"var\", [t.variableDeclarator(thisRef, call)])].concat(bareSuperAfter, [t.expressionStatement(thisRef)]));\n    }\n  };\n\n  ClassTransformer.prototype.verifyConstructor = function verifyConstructor() {\n    var _this2 = this;\n\n    if (!this.isDerived) return;\n\n    var path = this.userConstructorPath;\n    var body = path.get(\"body\");\n\n    path.traverse(findThisesVisitor, this);\n\n    var guaranteedSuperBeforeFinish = !!this.bareSupers.length;\n\n    var superRef = this.superName || t.identifier(\"Function\");\n    var thisRef = path.scope.generateUidIdentifier(\"this\");\n\n    for (var _iterator3 = this.bareSupers, _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : (0, _getIterator3.default)(_iterator3);;) {\n      var _ref3;\n\n      if (_isArray3) {\n        if (_i3 >= _iterator3.length) break;\n        _ref3 = _iterator3[_i3++];\n      } else {\n        _i3 = _iterator3.next();\n        if (_i3.done) break;\n        _ref3 = _i3.value;\n      }\n\n      var bareSuper = _ref3;\n\n      this.wrapSuperCall(bareSuper, superRef, thisRef, body);\n\n      if (guaranteedSuperBeforeFinish) {\n        bareSuper.find(function (parentPath) {\n          if (parentPath === path) {\n            return true;\n          }\n\n          if (parentPath.isLoop() || parentPath.isConditional()) {\n            guaranteedSuperBeforeFinish = false;\n            return true;\n          }\n        });\n      }\n    }\n\n    for (var _iterator4 = this.superThises, _isArray4 = Array.isArray(_iterator4), _i4 = 0, _iterator4 = _isArray4 ? _iterator4 : (0, _getIterator3.default)(_iterator4);;) {\n      var _ref4;\n\n      if (_isArray4) {\n        if (_i4 >= _iterator4.length) break;\n        _ref4 = _iterator4[_i4++];\n      } else {\n        _i4 = _iterator4.next();\n        if (_i4.done) break;\n        _ref4 = _i4.value;\n      }\n\n      var thisPath = _ref4;\n\n      thisPath.replaceWith(thisRef);\n    }\n\n    var wrapReturn = function wrapReturn(returnArg) {\n      return t.callExpression(_this2.file.addHelper(\"possibleConstructorReturn\"), [thisRef].concat(returnArg || []));\n    };\n\n    var bodyPaths = body.get(\"body\");\n    if (bodyPaths.length && !bodyPaths.pop().isReturnStatement()) {\n      body.pushContainer(\"body\", t.returnStatement(guaranteedSuperBeforeFinish ? thisRef : wrapReturn()));\n    }\n\n    for (var _iterator5 = this.superReturns, _isArray5 = Array.isArray(_iterator5), _i5 = 0, _iterator5 = _isArray5 ? _iterator5 : (0, _getIterator3.default)(_iterator5);;) {\n      var _ref5;\n\n      if (_isArray5) {\n        if (_i5 >= _iterator5.length) break;\n        _ref5 = _iterator5[_i5++];\n      } else {\n        _i5 = _iterator5.next();\n        if (_i5.done) break;\n        _ref5 = _i5.value;\n      }\n\n      var returnPath = _ref5;\n\n      if (returnPath.node.argument) {\n        var ref = returnPath.scope.generateDeclaredUidIdentifier(\"ret\");\n        returnPath.get(\"argument\").replaceWithMultiple([t.assignmentExpression(\"=\", ref, returnPath.node.argument), wrapReturn(ref)]);\n      } else {\n        returnPath.get(\"argument\").replaceWith(wrapReturn());\n      }\n    }\n  };\n\n  ClassTransformer.prototype.pushMethod = function pushMethod(node, path) {\n    var scope = path ? path.scope : this.scope;\n\n    if (node.kind === \"method\") {\n      if (this._processMethod(node, scope)) return;\n    }\n\n    this.pushToMap(node, false, null, scope);\n  };\n\n  ClassTransformer.prototype._processMethod = function _processMethod() {\n    return false;\n  };\n\n  ClassTransformer.prototype.pushConstructor = function pushConstructor(replaceSupers, method, path) {\n    this.bareSupers = replaceSupers.bareSupers;\n    this.superReturns = replaceSupers.returns;\n\n    if (path.scope.hasOwnBinding(this.classRef.name)) {\n      path.scope.rename(this.classRef.name);\n    }\n\n    var construct = this.constructor;\n\n    this.userConstructorPath = path;\n    this.userConstructor = method;\n    this.hasConstructor = true;\n\n    t.inheritsComments(construct, method);\n\n    construct._ignoreUserWhitespace = true;\n    construct.params = method.params;\n\n    t.inherits(construct.body, method.body);\n    construct.body.directives = method.body.directives;\n\n    this._pushConstructor();\n  };\n\n  ClassTransformer.prototype._pushConstructor = function _pushConstructor() {\n    if (this.pushedConstructor) return;\n    this.pushedConstructor = true;\n\n    if (this.hasInstanceDescriptors || this.hasStaticDescriptors) {\n      this.pushDescriptors();\n    }\n\n    this.body.push(this.constructor);\n\n    this.pushInherits();\n  };\n\n  ClassTransformer.prototype.pushInherits = function pushInherits() {\n    if (!this.isDerived || this.pushedInherits) return;\n\n    this.pushedInherits = true;\n    this.body.unshift(t.expressionStatement(t.callExpression(this.file.addHelper(\"inherits\"), [this.classRef, this.superName])));\n  };\n\n  return ClassTransformer;\n}();\n\nexports.default = ClassTransformer;\nmodule.exports = exports[\"default\"];"]}