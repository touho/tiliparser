{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _symbol = require(\"babel-runtime/core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _babelHelperOptimiseCallExpression = require(\"babel-helper-optimise-call-expression\");\n\nvar _babelHelperOptimiseCallExpression2 = _interopRequireDefault(_babelHelperOptimiseCallExpression);\n\nvar _babelMessages = require(\"babel-messages\");\n\nvar messages = _interopRequireWildcard(_babelMessages);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar HARDCORE_THIS_REF = (0, _symbol2.default)();\n\nfunction isIllegalBareSuper(node, parent) {\n  if (!t.isSuper(node)) return false;\n  if (t.isMemberExpression(parent, { computed: false })) return false;\n  if (t.isCallExpression(parent, { callee: node })) return false;\n  return true;\n}\n\nfunction isMemberExpressionSuper(node) {\n  return t.isMemberExpression(node) && t.isSuper(node.object);\n}\n\nfunction getPrototypeOfExpression(objectRef, isStatic) {\n  var targetRef = isStatic ? objectRef : t.memberExpression(objectRef, t.identifier(\"prototype\"));\n\n  return t.logicalExpression(\"||\", t.memberExpression(targetRef, t.identifier(\"__proto__\")), t.callExpression(t.memberExpression(t.identifier(\"Object\"), t.identifier(\"getPrototypeOf\")), [targetRef]));\n}\n\nvar visitor = {\n  Function: function Function(path) {\n    if (!path.inShadow(\"this\")) {\n      path.skip();\n    }\n  },\n  ReturnStatement: function ReturnStatement(path, state) {\n    if (!path.inShadow(\"this\")) {\n      state.returns.push(path);\n    }\n  },\n  ThisExpression: function ThisExpression(path, state) {\n    if (!path.node[HARDCORE_THIS_REF]) {\n      state.thises.push(path);\n    }\n  },\n  enter: function enter(path, state) {\n    var callback = state.specHandle;\n    if (state.isLoose) callback = state.looseHandle;\n\n    var isBareSuper = path.isCallExpression() && path.get(\"callee\").isSuper();\n\n    var result = callback.call(state, path);\n\n    if (result) {\n      state.hasSuper = true;\n    }\n\n    if (isBareSuper) {\n      state.bareSupers.push(path);\n    }\n\n    if (result === true) {\n      path.requeue();\n    }\n\n    if (result !== true && result) {\n      if (Array.isArray(result)) {\n        path.replaceWithMultiple(result);\n      } else {\n        path.replaceWith(result);\n      }\n    }\n  }\n};\n\nvar ReplaceSupers = function () {\n  function ReplaceSupers(opts) {\n    var inClass = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n    (0, _classCallCheck3.default)(this, ReplaceSupers);\n\n    this.forceSuperMemoisation = opts.forceSuperMemoisation;\n    this.methodPath = opts.methodPath;\n    this.methodNode = opts.methodNode;\n    this.superRef = opts.superRef;\n    this.isStatic = opts.isStatic;\n    this.hasSuper = false;\n    this.inClass = inClass;\n    this.isLoose = opts.isLoose;\n    this.scope = this.methodPath.scope;\n    this.file = opts.file;\n    this.opts = opts;\n\n    this.bareSupers = [];\n    this.returns = [];\n    this.thises = [];\n  }\n\n  ReplaceSupers.prototype.getObjectRef = function getObjectRef() {\n    return this.opts.objectRef || this.opts.getObjectRef();\n  };\n\n  ReplaceSupers.prototype.setSuperProperty = function setSuperProperty(property, value, isComputed) {\n    return t.callExpression(this.file.addHelper(\"set\"), [getPrototypeOfExpression(this.getObjectRef(), this.isStatic), isComputed ? property : t.stringLiteral(property.name), value, t.thisExpression()]);\n  };\n\n  ReplaceSupers.prototype.getSuperProperty = function getSuperProperty(property, isComputed) {\n    return t.callExpression(this.file.addHelper(\"get\"), [getPrototypeOfExpression(this.getObjectRef(), this.isStatic), isComputed ? property : t.stringLiteral(property.name), t.thisExpression()]);\n  };\n\n  ReplaceSupers.prototype.replace = function replace() {\n    this.methodPath.traverse(visitor, this);\n  };\n\n  ReplaceSupers.prototype.getLooseSuperProperty = function getLooseSuperProperty(id, parent) {\n    var methodNode = this.methodNode;\n    var superRef = this.superRef || t.identifier(\"Function\");\n\n    if (parent.property === id) {\n      return;\n    } else if (t.isCallExpression(parent, { callee: id })) {\n      return;\n    } else if (t.isMemberExpression(parent) && !methodNode.static) {\n      return t.memberExpression(superRef, t.identifier(\"prototype\"));\n    } else {\n      return superRef;\n    }\n  };\n\n  ReplaceSupers.prototype.looseHandle = function looseHandle(path) {\n    var node = path.node;\n    if (path.isSuper()) {\n      return this.getLooseSuperProperty(node, path.parent);\n    } else if (path.isCallExpression()) {\n      var callee = node.callee;\n      if (!t.isMemberExpression(callee)) return;\n      if (!t.isSuper(callee.object)) return;\n\n      t.appendToMemberExpression(callee, t.identifier(\"call\"));\n      node.arguments.unshift(t.thisExpression());\n      return true;\n    }\n  };\n\n  ReplaceSupers.prototype.specHandleAssignmentExpression = function specHandleAssignmentExpression(ref, path, node) {\n    if (node.operator === \"=\") {\n      return this.setSuperProperty(node.left.property, node.right, node.left.computed);\n    } else {\n      ref = ref || path.scope.generateUidIdentifier(\"ref\");\n      return [t.variableDeclaration(\"var\", [t.variableDeclarator(ref, node.left)]), t.expressionStatement(t.assignmentExpression(\"=\", node.left, t.binaryExpression(node.operator[0], ref, node.right)))];\n    }\n  };\n\n  ReplaceSupers.prototype.specHandle = function specHandle(path) {\n    var property = void 0;\n    var computed = void 0;\n    var args = void 0;\n\n    var parent = path.parent;\n    var node = path.node;\n\n    if (isIllegalBareSuper(node, parent)) {\n      throw path.buildCodeFrameError(messages.get(\"classesIllegalBareSuper\"));\n    }\n\n    if (t.isCallExpression(node)) {\n      var callee = node.callee;\n      if (t.isSuper(callee)) {\n        return;\n      } else if (isMemberExpressionSuper(callee)) {\n        property = callee.property;\n        computed = callee.computed;\n        args = node.arguments;\n      }\n    } else if (t.isMemberExpression(node) && t.isSuper(node.object)) {\n      property = node.property;\n      computed = node.computed;\n    } else if (t.isUpdateExpression(node) && isMemberExpressionSuper(node.argument)) {\n      var binary = t.binaryExpression(node.operator[0], node.argument, t.numericLiteral(1));\n      if (node.prefix) {\n        return this.specHandleAssignmentExpression(null, path, binary);\n      } else {\n        var ref = path.scope.generateUidIdentifier(\"ref\");\n        return this.specHandleAssignmentExpression(ref, path, binary).concat(t.expressionStatement(ref));\n      }\n    } else if (t.isAssignmentExpression(node) && isMemberExpressionSuper(node.left)) {\n      return this.specHandleAssignmentExpression(null, path, node);\n    }\n\n    if (!property) return;\n\n    var superProperty = this.getSuperProperty(property, computed);\n\n    if (args) {\n      return this.optimiseCall(superProperty, args);\n    } else {\n      return superProperty;\n    }\n  };\n\n  ReplaceSupers.prototype.optimiseCall = function optimiseCall(callee, args) {\n    var thisNode = t.thisExpression();\n    thisNode[HARDCORE_THIS_REF] = true;\n    return (0, _babelHelperOptimiseCallExpression2.default)(callee, thisNode, args);\n  };\n\n  return ReplaceSupers;\n}();\n\nexports.default = ReplaceSupers;\nmodule.exports = exports[\"default\"];"]}