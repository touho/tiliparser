{"version":3,"sources":["leap.js"],"names":[],"mappings":"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","file":"leap-compiled.js","sourcesContent":["\"use strict\";\n\nvar _assert = require(\"assert\");\n\nvar _assert2 = _interopRequireDefault(_assert);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nvar _util = require(\"util\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction Entry() {\n  _assert2.default.ok(this instanceof Entry);\n}\n\nfunction FunctionEntry(returnLoc) {\n  Entry.call(this);\n  t.assertLiteral(returnLoc);\n  this.returnLoc = returnLoc;\n}\n\n(0, _util.inherits)(FunctionEntry, Entry);\nexports.FunctionEntry = FunctionEntry;\n\nfunction LoopEntry(breakLoc, continueLoc, label) {\n  Entry.call(this);\n\n  t.assertLiteral(breakLoc);\n  t.assertLiteral(continueLoc);\n\n  if (label) {\n    t.assertIdentifier(label);\n  } else {\n    label = null;\n  }\n\n  this.breakLoc = breakLoc;\n  this.continueLoc = continueLoc;\n  this.label = label;\n}\n\n(0, _util.inherits)(LoopEntry, Entry);\nexports.LoopEntry = LoopEntry;\n\nfunction SwitchEntry(breakLoc) {\n  Entry.call(this);\n  t.assertLiteral(breakLoc);\n  this.breakLoc = breakLoc;\n}\n\n(0, _util.inherits)(SwitchEntry, Entry);\nexports.SwitchEntry = SwitchEntry;\n\nfunction TryEntry(firstLoc, catchEntry, finallyEntry) {\n  Entry.call(this);\n\n  t.assertLiteral(firstLoc);\n\n  if (catchEntry) {\n    _assert2.default.ok(catchEntry instanceof CatchEntry);\n  } else {\n    catchEntry = null;\n  }\n\n  if (finallyEntry) {\n    _assert2.default.ok(finallyEntry instanceof FinallyEntry);\n  } else {\n    finallyEntry = null;\n  }\n\n  _assert2.default.ok(catchEntry || finallyEntry);\n\n  this.firstLoc = firstLoc;\n  this.catchEntry = catchEntry;\n  this.finallyEntry = finallyEntry;\n}\n\n(0, _util.inherits)(TryEntry, Entry);\nexports.TryEntry = TryEntry;\n\nfunction CatchEntry(firstLoc, paramId) {\n  Entry.call(this);\n\n  t.assertLiteral(firstLoc);\n  t.assertIdentifier(paramId);\n\n  this.firstLoc = firstLoc;\n  this.paramId = paramId;\n}\n\n(0, _util.inherits)(CatchEntry, Entry);\nexports.CatchEntry = CatchEntry;\n\nfunction FinallyEntry(firstLoc, afterLoc) {\n  Entry.call(this);\n  t.assertLiteral(firstLoc);\n  t.assertLiteral(afterLoc);\n  this.firstLoc = firstLoc;\n  this.afterLoc = afterLoc;\n}\n\n(0, _util.inherits)(FinallyEntry, Entry);\nexports.FinallyEntry = FinallyEntry;\n\nfunction LabeledEntry(breakLoc, label) {\n  Entry.call(this);\n\n  t.assertLiteral(breakLoc);\n  t.assertIdentifier(label);\n\n  this.breakLoc = breakLoc;\n  this.label = label;\n}\n\n(0, _util.inherits)(LabeledEntry, Entry);\nexports.LabeledEntry = LabeledEntry;\n\nfunction LeapManager(emitter) {\n  _assert2.default.ok(this instanceof LeapManager);\n\n  var Emitter = require(\"./emit\").Emitter;\n  _assert2.default.ok(emitter instanceof Emitter);\n\n  this.emitter = emitter;\n  this.entryStack = [new FunctionEntry(emitter.finalLoc)];\n}\n\nvar LMp = LeapManager.prototype;\nexports.LeapManager = LeapManager;\n\nLMp.withEntry = function (entry, callback) {\n  _assert2.default.ok(entry instanceof Entry);\n  this.entryStack.push(entry);\n  try {\n    callback.call(this.emitter);\n  } finally {\n    var popped = this.entryStack.pop();\n    _assert2.default.strictEqual(popped, entry);\n  }\n};\n\nLMp._findLeapLocation = function (property, label) {\n  for (var i = this.entryStack.length - 1; i >= 0; --i) {\n    var entry = this.entryStack[i];\n    var loc = entry[property];\n    if (loc) {\n      if (label) {\n        if (entry.label && entry.label.name === label.name) {\n          return loc;\n        }\n      } else if (entry instanceof LabeledEntry) {} else {\n        return loc;\n      }\n    }\n  }\n\n  return null;\n};\n\nLMp.getBreakLoc = function (label) {\n  return this._findLeapLocation(\"breakLoc\", label);\n};\n\nLMp.getContinueLoc = function (label) {\n  return this._findLeapLocation(\"continueLoc\", label);\n};"]}