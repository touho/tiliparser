{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["/*istanbul ignore next*/\"use strict\";\n\nexports.__esModule = true;\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nexports.default = function ( /*istanbul ignore next*/_ref) {\n  /*istanbul ignore next*/var t = _ref.types;\n  /*istanbul ignore next*/var template = _ref.template;\n\n  var buildMutatorMapAssign = template( /*istanbul ignore next*/\"\\n    MUTATOR_MAP_REF[KEY] = MUTATOR_MAP_REF[KEY] || {};\\n    MUTATOR_MAP_REF[KEY].KIND = VALUE;\\n  \");\n\n  function getValue(prop) {\n    if (t.isObjectProperty(prop)) {\n      return prop.value;\n    } else if (t.isObjectMethod(prop)) {\n      return t.functionExpression(null, prop.params, prop.body, prop.generator, prop.async);\n    }\n  }\n\n  function pushAssign(objId, prop, body) {\n    if (prop.kind === \"get\" && prop.kind === \"set\") {\n      pushMutatorDefine(objId, prop, body);\n    } else {\n      body.push(t.expressionStatement(t.assignmentExpression(\"=\", t.memberExpression(objId, prop.key, prop.computed || t.isLiteral(prop.key)), getValue(prop))));\n    }\n  }\n\n  function pushMutatorDefine( /*istanbul ignore next*/_ref2, prop) {\n    /*istanbul ignore next*/var objId = _ref2.objId;\n    /*istanbul ignore next*/var body = _ref2.body;\n    /*istanbul ignore next*/var getMutatorId = _ref2.getMutatorId;\n    /*istanbul ignore next*/var scope = _ref2.scope;\n\n    var key = !prop.computed && t.isIdentifier(prop.key) ? t.stringLiteral(prop.key.name) : prop.key;\n\n    var maybeMemoise = scope.maybeGenerateMemoised(key);\n    if (maybeMemoise) {\n      body.push(t.expressionStatement(t.assignmentExpression(\"=\", maybeMemoise, key)));\n      key = maybeMemoise;\n    }\n\n    /*istanbul ignore next*/body.push. /*istanbul ignore next*/apply(body, buildMutatorMapAssign({\n      MUTATOR_MAP_REF: getMutatorId(),\n      KEY: key,\n      VALUE: getValue(prop),\n      KIND: t.identifier(prop.kind)\n    }));\n  }\n\n  function loose(info) {\n    for ( /*istanbul ignore next*/var _iterator = info.computedProps, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : (0, _getIterator3.default)(_iterator);;) {\n      /*istanbul ignore next*/\n      var _ref3;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref3 = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref3 = _i.value;\n      }\n\n      var prop = _ref3;\n\n      if (prop.kind === \"get\" || prop.kind === \"set\") {\n        pushMutatorDefine(info, prop);\n      } else {\n        pushAssign(info.objId, prop, info.body);\n      }\n    }\n  }\n\n  function spec(info) {\n    /*istanbul ignore next*/var objId = info.objId;\n    /*istanbul ignore next*/var body = info.body;\n    /*istanbul ignore next*/var computedProps = info.computedProps;\n    /*istanbul ignore next*/var state = info.state;\n\n\n    for ( /*istanbul ignore next*/var _iterator2 = computedProps, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : (0, _getIterator3.default)(_iterator2);;) {\n      /*istanbul ignore next*/\n      var _ref4;\n\n      if (_isArray2) {\n        if (_i2 >= _iterator2.length) break;\n        _ref4 = _iterator2[_i2++];\n      } else {\n        _i2 = _iterator2.next();\n        if (_i2.done) break;\n        _ref4 = _i2.value;\n      }\n\n      var prop = _ref4;\n\n      var key = t.toComputedKey(prop);\n\n      if (prop.kind === \"get\" || prop.kind === \"set\") {\n        pushMutatorDefine(info, prop);\n      } else if (t.isStringLiteral(key, { value: \"__proto__\" })) {\n        pushAssign(objId, prop, body);\n      } else {\n        if (computedProps.length === 1) {\n          return t.callExpression(state.addHelper(\"defineProperty\"), [info.initPropExpression, key, getValue(prop)]);\n        } else {\n          body.push(t.expressionStatement(t.callExpression(state.addHelper(\"defineProperty\"), [objId, key, getValue(prop)])));\n        }\n      }\n    }\n  }\n\n  return {\n    visitor: {\n      ObjectExpression: { /*istanbul ignore next*/\n        exit: function exit(path, state) {\n          /*istanbul ignore next*/var node = path.node;\n          /*istanbul ignore next*/var parent = path.parent;\n          /*istanbul ignore next*/var scope = path.scope;\n\n          var hasComputed = false;\n          for ( /*istanbul ignore next*/var _iterator3 = node.properties, _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : (0, _getIterator3.default)(_iterator3);;) {\n            /*istanbul ignore next*/\n            var _ref5;\n\n            if (_isArray3) {\n              if (_i3 >= _iterator3.length) break;\n              _ref5 = _iterator3[_i3++];\n            } else {\n              _i3 = _iterator3.next();\n              if (_i3.done) break;\n              _ref5 = _i3.value;\n            }\n\n            var prop = _ref5;\n\n            hasComputed = prop.computed === true;\n            if (hasComputed) break;\n          }\n          if (!hasComputed) return;\n\n          // put all getters/setters into the first object expression as well as all initialisers up\n          // to the first computed property\n\n          var initProps = [];\n          var computedProps = [];\n          var foundComputed = false;\n\n          for ( /*istanbul ignore next*/var _iterator4 = node.properties, _isArray4 = Array.isArray(_iterator4), _i4 = 0, _iterator4 = _isArray4 ? _iterator4 : (0, _getIterator3.default)(_iterator4);;) {\n            /*istanbul ignore next*/\n            var _ref6;\n\n            if (_isArray4) {\n              if (_i4 >= _iterator4.length) break;\n              _ref6 = _iterator4[_i4++];\n            } else {\n              _i4 = _iterator4.next();\n              if (_i4.done) break;\n              _ref6 = _i4.value;\n            }\n\n            var _prop = _ref6;\n\n            if (_prop.computed) {\n              foundComputed = true;\n            }\n\n            if (foundComputed) {\n              computedProps.push(_prop);\n            } else {\n              initProps.push(_prop);\n            }\n          }\n\n          var objId = scope.generateUidIdentifierBasedOnNode(parent);\n          var initPropExpression = t.objectExpression(initProps);\n          var body = [];\n\n          body.push(t.variableDeclaration(\"var\", [t.variableDeclarator(objId, initPropExpression)]));\n\n          var callback = spec;\n          if (state.opts.loose) callback = loose;\n\n          var mutatorRef = /*istanbul ignore next*/void 0;\n\n          var getMutatorId = function getMutatorId() {\n            if (!mutatorRef) {\n              mutatorRef = scope.generateUidIdentifier(\"mutatorMap\");\n\n              body.push(t.variableDeclaration(\"var\", [t.variableDeclarator(mutatorRef, t.objectExpression([]))]));\n            }\n\n            return mutatorRef;\n          };\n\n          var single = callback({\n            scope: scope,\n            objId: objId,\n            body: body,\n            computedProps: computedProps,\n            initPropExpression: initPropExpression,\n            getMutatorId: getMutatorId,\n            state: state\n          });\n\n          if (mutatorRef) {\n            body.push(t.expressionStatement(t.callExpression(state.addHelper(\"defineEnumerableProperties\"), [objId, mutatorRef])));\n          }\n\n          if (single) {\n            path.replaceWith(single);\n          } else {\n            body.push(t.expressionStatement(objId));\n            path.replaceWithMultiple(body);\n          }\n        }\n      }\n    }\n  };\n};\n\n/*istanbul ignore next*/\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports[\"default\"];"]}