{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["/*istanbul ignore next*/\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (path) {\n  /*istanbul ignore next*/var scope = arguments.length <= 1 || arguments[1] === undefined ? path.scope : arguments[1];\n  /*istanbul ignore next*/var node = path.node;\n\n  var container = t.functionExpression(null, [], node.body, node.generator, node.async);\n\n  var callee = container;\n  var args = [];\n\n  // todo: only hoist if necessary\n  /*istanbul ignore next*/(0, _babelHelperHoistVariables2.default)(path, function (id) /*istanbul ignore next*/{\n    return scope.push({ id: id });\n  });\n\n  var state = {\n    foundThis: false,\n    foundArguments: false\n  };\n\n  path.traverse(visitor, state);\n\n  if (state.foundArguments) {\n    callee = t.memberExpression(container, t.identifier(\"apply\"));\n    args = [];\n\n    if (state.foundThis) {\n      args.push(t.thisExpression());\n    }\n\n    if (state.foundArguments) {\n      if (!state.foundThis) args.push(t.nullLiteral());\n      args.push(t.identifier(\"arguments\"));\n    }\n  }\n\n  var call = t.callExpression(callee, args);\n  if (node.generator) call = t.yieldExpression(call, true);\n\n  return t.returnStatement(call);\n};\n\nvar /*istanbul ignore next*/_babelHelperHoistVariables = require(\"babel-helper-hoist-variables\");\n\n/*istanbul ignore next*/\nvar _babelHelperHoistVariables2 = _interopRequireDefault(_babelHelperHoistVariables);\n\nvar /*istanbul ignore next*/_babelTypes = require(\"babel-types\");\n\n/*istanbul ignore next*/\nvar t = _interopRequireWildcard(_babelTypes);\n\n/*istanbul ignore next*/\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar visitor = { /*istanbul ignore next*/\n  enter: function enter(path, state) {\n    if (path.isThisExpression()) {\n      state.foundThis = true;\n    }\n\n    if (path.isReferencedIdentifier({ name: \"arguments\" })) {\n      state.foundArguments = true;\n    }\n  },\n  /*istanbul ignore next*/Function: function Function(path) {\n    path.skip();\n  }\n};\n\n/*istanbul ignore next*/module.exports = exports[\"default\"];"]}